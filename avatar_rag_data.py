# THE PLAYER アバター攻略RAGデータ
# 13種類のアバター（ジョブ）の詳細データ

AVATAR_RAG_DATA = {
    0: {
        "name": "フリーランサー（自由人）",
        "basic_traits": "無・純粋・直感",
        "overview": "何にも縛られない永遠の旅人。「今、この瞬間」の感覚だけを頼りに生きることで、予測不能な奇跡や新しい風を世界に呼び込む存在。",
        "levels": {
            0: {
                "class_name": "Vagabond（ヴァガボンド／気まぐれな漂流者）",
                "mode": "NPC",
                "state": "自分の軸がなく、嫌なことから逃げることを「自由」だと勘違いしている状態。「どうせ自分なんて」と責任や継続から逃避し、環境や他人の意見にただ流されている。",
                "challenge": "現実逃避の自覚：「自由」と「無責任」の違いに気づくこと。逃げている限り、どこへ行っても同じ不安が続くことに気づく必要がある。",
                "action": "違和感の感知：今の場所にいて感じる「なんか違う」「息苦しい」というネガティブな感覚を、無視せずに認めること。「ここは私の居場所ではない」とハッキリ意識する。",
                "next_step": "「私は迷子である」と認めること。強がったり、何者かのフリをするのをやめ、「自分には何もない（ゼロだ）」と受け入れた瞬間、本当の旅が始まる。"
            },
            1: {
                "class_name": "Lost Traveler（ロナー／迷走する旅人）",
                "mode": "TRIAL",
                "state": "現状を変えようと動き出したが、指針がないため迷走している状態。自由を求めて飛び出したものの、孤独や経済的な不安に襲われ、「やっぱり我慢して戻るべきか？」と葛藤している。",
                "challenge": "孤独への耐性：誰かに正解を求めたり、所属先を探そうとするのを止めること。空白（ゼロ）の状態に耐える強さを持つこと。",
                "action": "ノイズの遮断：「普通はこうする」「将来のために」といった世間の常識や他人のアドバイスを意図的に遮断する。一人になる時間を確保する。",
                "next_step": "「理由」を探すのをやめること。「なぜこれをするのか？」「メリットは？」という思考を停止させ、自分の内側にある静寂に耳を澄ませる準備をする。"
            },
            2: {
                "class_name": "Sense Believer（センス・ビリーバー／感覚の信奉者）",
                "mode": "NOVICE",
                "state": "思考停止のリハビリ期間。「理由はないけれど、これが好き／嫌い」という自分の感覚を信じ始めた段階。まだ行動には移せなくても、心の中で自分の「快・不快」を肯定できている。",
                "challenge": "感覚の全肯定：湧き上がってくる「好き・嫌い」の感情に、一切のジャッジを下さないこと。「わがまま」と「本心」を区別せず、すべてを自分の真実として受け入れる。",
                "action": "好き嫌いの選別：日常の小さな選択（食事、着る服、道順）において、思考ではなく「直感的に惹かれるほう」を選ぶ練習をする。",
                "next_step": "「なんとなく」を羅針盤にすること。「なんとなくこっちが良い気がする」という微細な感覚をキャッチし、それを絶対的なGOサインとして採用すると決める。"
            },
            3: {
                "class_name": "Impulse Actor（インパルス・アクター／衝動の実行者）",
                "mode": "ADEPT",
                "state": "小さな直感に従って実際に体を動かし始めた段階。「あ、これ面白そう」と思った瞬間に、後先考えずに一歩を踏み出せるようになっている。失敗さえもネタにして楽しめる。",
                "challenge": "瞬発力の実践：直感が降りてきてから行動するまでの「タイムラグ」をなくすこと。思考がブレーキをかける前に、体ごと飛び込む。",
                "action": "予定調和の破壊：決まっていた予定やルートを、その場の気分で変更してみる。偶然の出会いやハプニングを歓迎し、流れに乗る実験をする。",
                "next_step": "結果を手放すこと。「これをやったらどうなるか」という期待を捨て、行動すること自体を目的とする。衝動に従うことが、常に最善の結果（天運）を招くと確信する。"
            },
            4: {
                "class_name": "Intuition Compass（インテュイション・コンパス／直感の羅針盤）",
                "mode": "PLAYER（覚醒）",
                "state": "何も持たないからこそ、何にでもなれる自由を完全に体現した状態。彼らが動くことで停滞した空気が動き、周囲に新しい風と「パラダイムシフト」をもたらす。存在そのものが、他者にとっての「自由の象徴」となる。",
                "challenge": "純度の維持：社会的な成功やしがらみによって、直感が曇らないように常に身軽でいること。常に「ゼロ」であり続けること。",
                "action": "ゼロ・リセット：複雑化した問題や、古くなったシステムを「無」に戻す役割を果たす。「一度全部やめよう」と提案し、新しい創造のスペースを作る。",
                "next_step": "自分を「空（くう）」にすること。個人の欲望すら超え、ただ宇宙の意志が通り抜けるパイプとして自分を差し出す。"
            },
            5: {
                "class_name": "The Universe（ザ・ユニバース／宇宙そのもの）",
                "mode": "MASTER（超越）",
                "state": "個人の意志と宇宙の流れが完全に一体化した境地。彼らには「選択」という概念がない。なぜなら、彼らが歩く場所が自然と道になり、彼らが願う前に世界が用意されるからである。",
                "challenge": "無為自然：何もしないことで、全てを為す。意図を持たず、ただ「在る」こと。",
                "action": "存在による浄化：ただそこにいるだけで、周囲の迷いや作為を消し去り、本質（ゼロ）へと還す。彼らの言葉は予言となり、行動は神話となる。",
                "next_step": None
            }
        }
    },
    1: {
        "name": "パイオニア（開拓者）",
        "basic_traits": "独立・開始・発見",
        "overview": "道なき道を切り拓く、生粋のソロプレイヤー。目の前に落ちている「小さなお菓子（興味）」を拾い集め、点と点を結んでいくことで、誰も見たことのない新しいルートを創り出す存在。",
        "levels": {
            0: {
                "class_name": "Loner（ロナー／迷い子）",
                "mode": "NPC",
                "state": "「誰もやっていないから」という理由で不安になり、足がすくんでいる状態。周りと同じでなければならないという思い込みに縛られ、自分のユニークな視点を「間違い」だと感じて孤独に苛まれている。",
                "challenge": "孤独の受容：「みんなと違う場所」にいることは、迷子なのではなく、先頭に立っているのだと気づくこと。",
                "action": "視点の転換：遠くのゴールや他人の姿を探すのをやめ、自分の足元に落ちている「気になること（お菓子）」を見つける。",
                "next_step": "「一人でもやる」と決めること。理解者を求めるのをやめ、たった一人でもその「お菓子」を拾い上げる覚悟を持つ。"
            },
            1: {
                "class_name": "Solitary Warrior（ソリタリー・ウォリアー／孤高の戦士）",
                "mode": "TRIAL",
                "state": "一人で動き始めたものの、「誰もわかってくれない」「なぜ自分だけがこんな苦労を」と、周囲への反発心や意地で動いている状態。助けを求められず、孤立無援の戦いに疲弊している。",
                "challenge": "孤立と自律の区別：「心を閉ざすこと（孤立）」と、「自分の足で立つこと（自律）」は違うと知ること。反発エネルギーではなく、純粋な意欲を燃料にする必要がある。",
                "action": "小さな一歩：壮大な計画や野望を一旦忘れ、目の前の「点」を一つ拾うことだけに集中する。無理な戦いをやめ、興味のある方へ軽く一歩を踏み出す。",
                "next_step": "自分自身を最初の味方にすること。「私が私のやり方を認める」と決める。他者の承認を必要とせず、自分の選択を自分で肯定できた時、戦いは冒険へと変わる。"
            },
            2: {
                "class_name": "Solo Seeker（ソロ・シーカー／自律の探求者）",
                "mode": "NOVICE",
                "state": "誰の許可も待たず、自分の意志を確認し始めたリハビリ期間。「私はこれでいい」と自分のスタイルを肯定し、一人でいる時間を楽しめるようになっている。",
                "challenge": "マイペースの確立：周りの速度や常識に合わせようとする癖を完全に手放すこと。自分だけのリズム、自分だけの歩幅を見つける。",
                "action": "点の収集：「これ何だろう？」と気になったものを、脈絡がなくてもいいので拾い集める。役に立つかどうかではなく、心が反応するかどうかだけで選ぶ。",
                "next_step": "「点と点」を繋げてみること。集めたバラバラの興味や経験が、実は一つの線で繋がっているかもしれない、という予感に従ってみる。"
            },
            3: {
                "class_name": "Pathfinder（パス・ファインダー／先駆の開拓者）",
                "mode": "ADEPT",
                "state": "誰もいない荒野に、実際に足を踏み入れ始めた段階。地図がないことを恐れず、自分が歩いた後に道ができるという感覚を掴み始めている。",
                "challenge": "未知へのダイブ：先が見えない恐怖を、ワクワクする好奇心へと変換すること。「どうなるかわからないからこそ、行く価値がある」と知る。",
                "action": "連結の実践：Aという興味とBという場所を実際に結びつけてみる。行動することで初めて現れる「次の展開」を楽しむ。",
                "next_step": "後ろを振り返らないこと。結果や成果を気にせず、ただ「進むこと」そのものを目的にする。進み続ける背中が、いつの間にか誰かの道標になっていると信じる。"
            },
            4: {
                "class_name": "Trailblazer（トレイルブレイザー／道なき道の先導者）",
                "mode": "PLAYER（覚醒）",
                "state": "自分が歩くことで、世界に新しいルートが開通することを完全に理解した状態。彼らが動けば、そこにある「点」と「点」が結ばれ、新しい価値や物語が生まれる。意図せずとも、その背中を追うフォロワーたちが現れ、リーダーとしての役割を果たすことになる。",
                "challenge": "純粋性の維持：周囲がついてくるようになっても、誰かのために足を止めたり、迎合したりしないこと。常に「最先端」を独走し続けること。",
                "action": "運命の連結：現実世界にある「運命を動かすポイント（お菓子）」を見抜き、次々と拾い上げ、結びつけていく。その軽やかなステップが、停滞した世界を前進させる。",
                "next_step": "自分自身が「道」になること。開拓者としての生き様そのものを、一つのメッセージとして世界に刻み込む。"
            },
            5: {
                "class_name": "The Legend（ザ・レジェンド／生きる伝説）",
                "mode": "MASTER（超越）",
                "state": "存在そのものが、人々の勇気と指針になる象徴的境地。彼らはもはや、荒野を切り拓く労力を必要としない。彼らが「あそこへ行こう」と指差すだけで、世界が道を用意し、人々が橋をかける。",
                "challenge": "象徴としての在り方：何もしなくても、ただそこに在るだけで、誰かの「最初の一歩」を後押しする光であり続けること。",
                "action": "新時代の啓示：既存の地図を書き換えるような、全く新しい概念や生き方を提示する。彼らの足跡は神話となり、後世の地図となる。",
                "next_step": None
            }
        }
    },
    2: {
        "name": "ナビゲーター（参謀）",
        "basic_traits": "協調・選別・観察",
        "overview": "物事の裏側や将来性を見抜く、冷静沈着な戦略家。むやみに動かず、最高のタイミング（好機）を見極めてから一撃で仕留める「大物狙い」のハンター。",
        "levels": {
            0: {
                "class_name": "Spectator（スペクテイター／優柔不断な傍観者）",
                "mode": "NPC",
                "state": "選択肢が多すぎて選べず、チャンスを逃し続ける状態。「失敗したくない」という恐怖から、自分で決めることを放棄し、他人の決断にただ乗っかっている。",
                "challenge": "主体性の回復：「選ばないこと」もまた、一つの選択（現状維持という選択）をしてしまっていることに気づくこと。",
                "action": "迷いの観察：自分が何に迷っているのか、紙に書き出すなどして可視化する。迷いそのものを客観的に見る練習。",
                "next_step": "「正解」を探すのをやめること。未来に絶対的な正解はないと知り、「自分が納得できるほう」を選ぶ準備をする。"
            },
            1: {
                "class_name": "Armchair Critic（アームチェア・クリティック／頭でっかちな評論家）",
                "mode": "TRIAL",
                "state": "分析力はあるが、それを「動かない言い訳」に使っている状態。リスクばかりが目につき、行動する人を冷笑したり、批判することで自分を保とうとしている。",
                "challenge": "リスクへの耐性：すべての行動にはリスクが伴うことを受け入れること。批判者（評論家）ではなく、プレイヤー（当事者）の席に座る覚悟を持つ。",
                "action": "思考の停止：ネガティブなシミュレーションが止まらない時は、あえて情報を遮断し、深呼吸をして「今」に戻る。",
                "next_step": "「静観」を「行動」に変えること。ただ怯えて止まっているのではなく、「今は動かないという『戦略』をとっているのだ」と、自分の意志で「待つ」ことを決める。"
            },
            2: {
                "class_name": "Silent Watcher（サイレント・ウォッチャー／静寂の観測者）",
                "mode": "NOVICE",
                "state": "焦って答えを出そうとせず、状況をただ冷静に観察できるようになったリハビリ期間。「今はまだ分からない」という状態に耐え、情報収集に徹している。",
                "challenge": "判断の保留：白黒つけられないグレーな状態を許容すること。すぐに結論を急がず、機が熟すのを待つ忍耐力を養う。",
                "action": "データの収集：感情を挟まず、事実（ファクト）だけを集める。「Aという道もある、Bという道もある」と、選択肢を並べて眺める。",
                "next_step": "タイミング（潮目）を読むこと。自分の都合ではなく、環境や相手の状況が変化する「一瞬の隙」を見逃さない集中力を持つ。"
            },
            3: {
                "class_name": "Decision Maker（ディシジョン・メーカー／決断の参謀）",
                "mode": "ADEPT",
                "state": "集めた情報を元に、勇気を持って「こっちだ」と指し示し始めた段階。100%の確証がなくても、勝率が高いほうへ賭けることができる。",
                "challenge": "選択の実行：自分の分析を信じて、実際に駒を進めること。「私が選んだ」という責任を引き受ける強さを持つ。",
                "action": "小さな決断：「今日のランチ」から「週末の予定」まで、自分で決めて、その結果（良し悪し）をデータとして蓄積する。",
                "next_step": "「大物」に狙いを定めること。小さな損得ではなく、長期的で大きなリターンを得るために、あえて今は損をするような「戦略的撤退」や「投資」を覚える。"
            },
            4: {
                "class_name": "Future Strategist（フューチャー・ストラテジスト／未来を見通す戦略家）",
                "mode": "PLAYER（覚醒）",
                "state": "静観を行動とし、最良のタイミングで決断を下す状態。彼らが「今だ」と動く時、それはすでに勝利が確定している。常に二手三手先を読み、周囲を勝利へと導く司令塔となる。",
                "challenge": "直感との融合：論理的な分析の果てに、最後は「勘」で決める大胆さを持つこと。計算を超えた領域へ踏み込む。",
                "action": "シナリオの構築：自分だけでなく、関わる人すべてが幸せになるような「勝ちシナリオ」を描き、その通りに現実を誘導していく。",
                "next_step": "自らの「読み」を、天に委ねること。人事を尽くした後は、結果をコントロールしようとせず、運命の流れを信頼して手放す。"
            },
            5: {
                "class_name": "The Oracle（ジ・オラクル／神託者）",
                "mode": "MASTER（超越）",
                "state": "分析を超え、未来が「視える」領域へ達した境地。彼らの言葉は予言のように的中し、争いを未然に防ぎ、人々を最善の未来へと導く知恵の泉となる。",
                "challenge": "無私の導き：自分の利益のためではなく、世界の調和のためにその慧眼を使うこと。",
                "action": "未来の回避と創造：悪い未来の芽を事前に摘み取り、良い未来の種を植える。何もしていないように見えて、世界を正しい軌道に乗せ続ける。",
                "next_step": None
            }
        }
    },
    3: {
        "name": "クリエイター（遊び人）",
        "basic_traits": "創造・興味・情熱",
        "overview": "楽しさとアイデアで世界を彩る発明家。「計画好きの無計画者」であり、心に浮かぶ空想を現実の形にしていくことで、周囲を巻き込み熱狂させる存在。",
        "levels": {
            0: {
                "class_name": "Daydreamer（デイドリーマー／夢想家）",
                "mode": "NPC",
                "state": "現実逃避して空想の世界に閉じこもっている状態。頭の中では壮大な計画を立てているが、現実では何も行動せず、「現実はつまらない」と不満を抱いている。",
                "challenge": "現実と空想の接続：空想は逃げ場所ではなく、現実を変えるための「設計図」であると気づくこと。",
                "action": "好きの再確認：「もし制限がなかったら何がしたい？」と自分に問いかけ、抑圧していた「好き」という感情を呼び覚ます。",
                "next_step": "「面白そう！」を許可すること。役に立つかどうかではなく、心がワクワクするかどうかだけで物事を見る視点を取り戻す。"
            },
            1: {
                "class_name": "Unfinished Inventor（アンフィニッシュド・インベンター／未完成の発明家）",
                "mode": "TRIAL",
                "state": "あれこれ手を出すが、少し壁にぶつかると「飽きた」と言って投げ出してしまう状態。形にならないアイデアの残骸に囲まれ、自信を失いかけている。",
                "challenge": "興味の分散と集中：「飽きっぽい」のではなく「好奇心が旺盛すぎる」のだと肯定した上で、エネルギーを一点に注ぐ練習が必要。",
                "action": "小さな完結：壮大なプロジェクトではなく、1日で終わるような小さな創作や遊びを「やり遂げる」経験をする。",
                "next_step": "「遊び」を「実験」に変えること。「ただ遊んでいる」のではなく、「このアイデアを試したらどうなるか実験しているのだ」という探求心を持つ。"
            },
            2: {
                "class_name": "Dream Architect（ドリーム・アーキテクト／夢の構想者）",
                "mode": "NOVICE",
                "state": "すぐに行動して飽きる前に、頭の中で「最高に楽しい妄想」を詳細に膨らませることができるようになったリハビリ期間。ワクワクする気持ちを十分に充電している。",
                "challenge": "想像の解像度アップ：ぼんやりした憧れを、具体的なビジュアルやストーリーとして脳内で構築する。想像の中だけで一度完成させる。",
                "action": "妄想のメモ化：頭の中の楽しい計画を、ノートやスマホに書き出す。誰に見せるわけでもなく、自分だけの「宝の地図」を作る。",
                "next_step": "「誰かを楽しませたい」と願うこと。自分だけで完結していた楽しみを、外の世界へシェアしたいという欲求に火をつける。"
            },
            3: {
                "class_name": "Play Maker（プレイ・メイカー／遊びの実践者）",
                "mode": "ADEPT",
                "state": "膨らませた妄想を、未熟でもいいので実際に「形」にし始めた段階。「作品」や「企画」として世に出し、誰かを楽しませる経験をし始めている。",
                "challenge": "具体化とフィードバック：想像と現実のギャップ（思った通りにできないこと）を楽しむこと。失敗を「面白いネタ」として捉える。",
                "action": "プロトタイプの公開：作りかけでも、完璧でなくても、人に見せて反応をもらう。「それ面白いね！」という共感が、次の情熱の燃料になる。",
                "next_step": "情熱の炎を絶やさないこと。周囲の反応に一喜一憂せず、「自分が一番楽しむ」というスタンスを貫く。夢中になる力が、現実を動かすと確信する。"
            },
            4: {
                "class_name": "World Creator（ワールド・クリエイター／世界を彩る発明家）",
                "mode": "PLAYER（覚醒）",
                "state": "「楽しさ」こそが最大のエネルギーだと知り、遊び心を形にして周囲を熱狂の渦に巻き込んでいる状態。彼らが動けば、退屈な日常がエンターテインメントに変わり、新しい価値や文化が生まれる。",
                "challenge": "創造の継続：一発屋で終わらず、常に新しい刺激を取り入れ、自分自身をアップデートし続けること。",
                "action": "夢の具現化：外界からの刺激を自分の中で混ぜ合わせ、全く新しい価値観やサービスを生み出す。空想を現実に変える錬金術を使う。",
                "next_step": "世界そのものを「遊び場」にすること。仕事も生活も、すべてをゲームのように楽しむ視点を持つ。"
            },
            5: {
                "class_name": "The Alchemist（ジ・アルケミスト／錬金術師）",
                "mode": "MASTER（超越）",
                "state": "楽しむだけで、石ころを黄金に変えるように価値を生み出す境地。彼らの遊び心は世界を癒やし、人々の魂を解放する魔法となる。何気ないアイデアが、時代を創るイノベーションとなる。",
                "challenge": "喜びの循環：自分が生み出した「楽しさ」のエネルギーを、世界中に循環させること。",
                "action": "黄金の生成：悲しみや退屈さえも、創造の材料として「黄金（希望）」に変えてしまう。存在そのものが、人々に「生きる喜び」を思い出させる。",
                "next_step": None
            }
        }
    },
    4: {
        "name": "アーキテクト（建築家）",
        "basic_traits": "安定・土台・構築",
        "overview": "確実に積み上げ、揺るがない城を築く人。自身の「体験」を通して得た学びをシェアし、人と人、物と物を繋ぐ仲介者としての役割も持つ、信頼の守護者。",
        "levels": {
            0: {
                "class_name": "Keeper（キーパー／保守人）",
                "mode": "NPC",
                "state": "変化を恐れ、古いルールや前例にガチガチに縛られている状態。「失敗したらどうするんだ」が口癖で、自分も他人も窮屈な檻に閉じ込め、成長を止めてしまっている。",
                "challenge": "変化への過剰防衛：「守ること」と「閉じこもること」は違うと気づくこと。動かないことが、かえってリスクを高めている現状を知る。",
                "action": "頑固さの自覚：「でも」「だって」と新しい提案を否定している自分に気づく。自分が守ろうとしているのは「安全」ではなく「自分の不安」だけではないかと問う。",
                "next_step": "「不完全」を許すこと。100%の安全が保証されなくても、動き出す許可を自分に出す。"
            },
            1: {
                "class_name": "Over-Cautious Planner（オーバー・コーシャス・プランナー／慎重すぎる設計士）",
                "mode": "TRIAL",
                "state": "何かを築きたい気持ちはあるが、準備に時間をかけすぎて一向に始まらない状態。情報を集めるばかりで、「まだ準備不足だ」と永遠に足踏みをしている。",
                "challenge": "準備地獄からの脱出：「机上の空論」には限界があると知ること。実際に手を動かさないと得られないデータ（体験）があることを理解する。",
                "action": "スモール・ステップ：壮大な計画書を閉じ、今日できる「たった一つの作業」に手を付ける。レンガを一つ置くだけでいいと割り切る。",
                "next_step": "「やってみてから考える」に切り替えること。思考（シミュレーション）よりも、体験（アクション）の方が、正確な情報をもたらしてくれると信じる。"
            },
            2: {
                "class_name": "Base Keeper（ベース・キーパー／基礎の守護者）",
                "mode": "NOVICE",
                "state": "不安を受け入れ、「今日できる確実なこと」だけに目を向け始めたリハビリ期間。派手な成果は求めず、生活リズムや基礎的なスキルなど、足元を固める作業に集中している。",
                "challenge": "地味な作業の肯定：誰からも評価されなくても、基礎を積む時間は裏切らないと信じ抜くこと。ルーティンの確立。",
                "action": "習慣化：決めたことを毎日続ける。小さな約束（自分との約束）を守り続けることで、自己信頼の残高を増やす。",
                "next_step": "「体験」を「記録」すること。自分がやってきたこと、感じたことを記録し、それを「確かな実績（データ）」として認識する。"
            },
            3: {
                "class_name": "Constructor（コンストラクター／建設的な立案者）",
                "mode": "ADEPT",
                "state": "小さな積み重ねが形になり始め、目に見える成果（建物）を作り始めた段階。自分の体験に基づいた言葉には重みがあり、周囲に対して建設的な提案や、人と人を繋ぐ役割を果たせるようになっている。",
                "challenge": "継続的な構築とシェア：自分のためだけでなく、周りの人のためになる「土台」を作ること。得た知識を独り占めせず、分かりやすく教える（シェアする）。",
                "action": "仲介と調整：バラバラだった要素を組み合わせて、安定したシステムを作る。人と人の間に立ち、信頼の橋を架ける。",
                "next_step": "自分が「城」になること。テクニックや知識ではなく、あなたという「人格」そのものが、周囲にとっての安心できる居場所になると決める。"
            },
            4: {
                "class_name": "Castle Lord（キャッスル・ロード／揺るぎない城の主）",
                "mode": "PLAYER（覚醒）",
                "state": "確実な一歩を積み重ね、誰もが安心できる強固な土台を築き上げた状態。彼らがいる場所には「信頼」と「秩序」が生まれ、多くの人がその庇護のもとに集まってくる。揺るがない実績が、最大の防御であり攻撃力となる。",
                "challenge": "守るべきものの拡大：自分のテリトリーだけでなく、社会や次世代の安全まで視野に入れて守ること。",
                "action": "信頼の構築：約束を違えず、誠実さを貫くことで、言葉一つで人を動かす信用力を発揮する。混沌とした世界に、秩序という道を作る。",
                "next_step": "形あるものを超えること。建物や組織といった物理的なものだけでなく、精神的な支柱としての役割を受け入れる。"
            },
            5: {
                "class_name": "The Foundation（ザ・ファウンデーション／揺るがぬ礎）",
                "mode": "MASTER（超越）",
                "state": "彼らが築いたシステム、文化、組織は、彼らがいなくなっても永遠に機能し続ける境地。文明や文化の土台（ファウンデーション）となり、歴史に残る「安心」を遺す存在。その名は「信頼」の代名詞となる。",
                "challenge": "永遠性の付与：時代が変わっても色褪せない、普遍的な価値や仕組みを残すこと。",
                "action": "文明の建築：個人の成功を超え、多くの人々が豊かに暮らすための社会基盤や教育システムそのものを構築する。",
                "next_step": None
            }
        }
    },
    5: {
        "name": "チャレンジャー（冒険家）",
        "basic_traits": "変化・自己・主張",
        "overview": "常に新しい刺激を求め、自分を貫く勇者。「私」という強い意識（エゴ）を持ち、その生き様や言葉で周囲に影響を与え、人々を新しい世界へと先導する存在。",
        "levels": {
            0: {
                "class_name": "Egoist（エゴイスト／利己主義者）",
                "mode": "NPC",
                "state": "「自分だけが正しい」と思い込み、周囲と衝突を繰り返している状態。自分の思い通りに人を動かそうとして反発を買い、結果として人が離れていき、裸の王様として孤立している。",
                "challenge": "独善の自覚：「強引さ」と「リーダーシップ」は違うと気づくこと。人が離れていくのは、周りのレベルが低いからではなく、自分の愛（配慮）が不足しているからだと認める。",
                "action": "耳を傾ける：自分の主張を一旦止め、他者の意見を最後まで聞く練習をする。自分とは違う正義があることを知る。",
                "next_step": "「支配欲」を手放すこと。他人をコントロールしようとするのをやめ、自分自身をコントロールすることに意識を向ける。"
            },
            1: {
                "class_name": "Runaway Car（ランナウェイ・カー／空回りの暴走車）",
                "mode": "TRIAL",
                "state": "「自分らしくありたい」と願うあまり、過剰に自己主張をして空回りしている状態。正論を振りかざしては理解されない孤独を感じ、「なぜわかってくれないんだ」と嘆いている。",
                "challenge": "承認欲求の克服：他人に認めてもらおうと声を張り上げるのをやめること。理解されない苦しみは、自分の哲学がまだ未熟だからだと受け入れる。",
                "action": "理由の言語化：「なんとなくこうしたい」ではなく、「なぜそうしたいのか」という確固たる理由（哲学）を自分の中で練り上げる。",
                "next_step": "自分で自分を認めること。誰に賞賛されなくても、「私はこの生き方が好きだ」と胸を張れる強さを持つ。"
            },
            2: {
                "class_name": "Individual（インディビジュアル／個の確立者）",
                "mode": "NOVICE",
                "state": "周囲に迎合せず、かといって押し付けもせず、静かに「個」として立ち始めたリハビリ期間。孤独を「孤高」へと変え、自分だけの美学やスタイルを確立し始めている。",
                "challenge": "内なる軸の強化：群れから離れ、一人でいることに誇りを持つこと。流されない自分を作る。",
                "action": "スタイル（型）の実践：ファッション、言葉遣い、生活様式など、自分の哲学に基づいた「スタイル」を目に見える形で表現し、定着させる。",
                "next_step": "「魅せる」意識を持つこと。自分の生き方が、誰かにとっての「憧れ」や「手本」になる可能性に気づく。"
            },
            3: {
                "class_name": "Performer（パフォーマー／魅せる演者）",
                "mode": "ADEPT",
                "state": "確立した自分らしさを、周囲に「魅力」として表現し始めた段階。押し付けなくても、そのユニークな存在感に惹かれて、自然と人が集まり始めている。言葉に説得力が宿る。",
                "challenge": "影響力の行使：集まってきた人々に、自分の哲学を分かりやすく伝え、ポジティブな影響を与えること。",
                "action": "発信と表現：自分の考えを堂々と語る。ただし、相手を従わせるためではなく、相手の心を動かす（感動させる）ために表現する。",
                "next_step": "「私」を「公（パブリック）」にすること。自分の成功や満足のためだけでなく、関わる人々の代表として、先頭に立つ覚悟を決める。"
            },
            4: {
                "class_name": "Shining Charisma（シャイニング・カリスマ／輝けるカリスマ）",
                "mode": "PLAYER（覚醒）",
                "state": "「個」を貫く生き様そのものが光となり、他者を勇気づけ、導いている状態。彼らが動けば、それは「新しいルール」となり、多くのフォロワーを生む。際立った存在感で、集団の中でも埋もれることなく、常に中心で輝き続ける。",
                "challenge": "正当なエゴの維持：常に「なぜやるのか」という動機を純粋に保ち続けること。慢心せず、哲学を磨き続けること。",
                "action": "道の提示：迷える人々の先頭に立ち、「こっちだ」と背中で語る。その圧倒的な光で、暗闇を照らす灯台となる。",
                "next_step": "時代そのものになること。個人のカリスマ性を超え、その生き方が一つの「文化」や「象徴」として定着することを目指す。"
            },
            5: {
                "class_name": "The Icon（ジ・アイコン／時代の象徴）",
                "mode": "MASTER（超越）",
                "state": "何かに挑戦する姿だけで、その時代を定義してしまう存在。彼らの生き様、発言、ファッションの全てがメッセージとなり、世界中の人々の価値観を書き換える。歴史に名を残すスターや革命家の領域。",
                "challenge": "象徴としての責任：自らの影響力が世界を変えてしまうことを自覚し、その全責任を負う覚悟を持つこと。",
                "action": "価値観の刷新：既存の枠組みを壊し、全く新しい自由の形を世界に提示する。",
                "next_step": None
            }
        }
    },
    6: {
        "name": "ヒーラー（守護者）",
        "basic_traits": "愛・育成・調和",
        "overview": "仲間を癒やし、育て、チームを守る愛の人。対立するものの間に入って調和を生み出し、温かいコミュニティや美しい関係性を育む、平和の象徴。",
        "levels": {
            0: {
                "class_name": "Martyr（マーター／殉教者）",
                "mode": "NPC",
                "state": "「私が我慢すれば丸く収まる」と思い込み、都合よく扱われている状態。自分の意見を持たず、周りに合わせすぎて自分を見失い（八方美人）、他人の感情のゴミ箱にされて疲弊している。",
                "challenge": "自己喪失の自覚：自分を犠牲にして尽くすことは、美徳ではなく「自分への虐待」であると気づくこと。",
                "action": "NOの意思表示：小さな頼まれごとに対して、あえて断る練習をする。「嫌だ」「できない」と言うことで、自分を守る境界線を引く。",
                "next_step": "「いい人」をやめること。誰からも好かれようとするのをやめ、自分を大切にしてくれない人から離れる勇気を持つ。"
            },
            1: {
                "class_name": "Meddlesome Guardian（メドルサム・ガーディアン／お節介な過保護者）",
                "mode": "TRIAL",
                "state": "愛を注ぐ対象を見つけたが、距離感を間違えている状態。「あなたのため」と言いつつ自分の価値を証明しようとしたり、見返りを求めたりして、相手の自立を阻害（過干渉）している。",
                "challenge": "依存からの脱却：「必要とされたい」という自分の欠乏感を埋めるために、相手を利用していないか自問すること。",
                "action": "手放しと見守り：良かれと思って手や口を出したくなる瞬間に、グッとこらえる。相手が失敗する権利を奪わない。",
                "next_step": "矢印を「自分」に向けること。他人の世話を焼く時間があったら、そのエネルギーを全て「自分のケア」に注ぐと決める。"
            },
            2: {
                "class_name": "Boundary Guard（バウンダリー・ガード／境界の守り人）",
                "mode": "NOVICE",
                "state": "他人を助ける前に、まず自分を満たすことを覚え始めたリハビリ期間。健全な境界線（バウンダリー）を引き、自分の領域と他人の領域を区別できている。",
                "challenge": "自愛（セルフラブ）：自分が満たされていなければ、他人を本当に幸せにすることはできないと知ること。自分を一番に優先する。",
                "action": "自分へのおもてなし：美しいものを見たり、美味しいものを食べたりして、自分の五感を喜ばせる。自分が心地よいと感じる環境を整える。",
                "next_step": "「シャンパンタワーの法則」を知ること。一番上のグラス（自分）が溢れて初めて、下のグラス（周り）を満たせるのだと理解する。"
            },
            3: {
                "class_name": "Harmonizer（ハーモナイザー／調和の架け橋）",
                "mode": "ADEPT",
                "state": "自分が満たされた余剰分のエネルギーで、自然と周囲を助け始めた段階。無理なく人と人を繋いだり、その場にいるだけで空気を和ませたりする「調整役」として機能している。",
                "challenge": "循環させる愛：特定の人への執着ではなく、広く愛を循環させること。見返りを求めない奉仕の喜びを知る。",
                "action": "つなぎ合わせる：困っている人がいれば、助けてくれる人を紹介する。自分一人で抱えず、人の輪を使って解決を図る。",
                "next_step": "愛を「動詞」ではなく「状態」にすること。何かをしてあげるから愛があるのではなく、ただそこに在るだけで愛が伝わる存在を目指す。"
            },
            4: {
                "class_name": "Harmony Link（ハーモニー・リンク／愛と調和の結節点）",
                "mode": "PLAYER（覚醒）",
                "state": "自らも満たされ、溢れ出した愛で周囲を繋ぎ、癒やしている状態。彼らがいる場所では争いが消え、皆が安心して本音を話せる温かいコミュニティが育まれる。誰に対しても平等で、中立的な愛を注ぐことができる。",
                "challenge": "愛の拡大：身近な人だけでなく、より広い社会や世界に対して、調和のエネルギーを広げていくこと。",
                "action": "無条件の受容：相手の良い面も悪い面もジャッジせず、丸ごと受け入れる。その受容力が、相手の心を溶かし、本来の輝きを取り戻させる。",
                "next_step": "「私」という器を消すこと。個人的な感情を超え、宇宙の愛が通り抜ける透明なパイプとなる。"
            },
            5: {
                "class_name": "The Saint（ザ・セイント／聖者）",
                "mode": "MASTER（超越）",
                "state": "特定の誰かだけでなく、万物を愛する境地。ただそこに座っているだけで、周囲の怒りや悲しみが浄化され、争いが自然と収まる「歩くパワースポット」。存在そのものが癒やしとなる。",
                "challenge": "慈悲の実践：全ての存在が繋がり合っていることを悟り、痛みを持つものに慈悲を向けること。",
                "action": "聖なる空間の創造：彼らが関わる場所は、聖域（サンクチュアリ）となる。言葉を超えた波動で、世界に平和と調和をもたらす。",
                "next_step": None
            }
        }
    },
    7: {
        "name": "ビジョナリー（予言者）",
        "basic_traits": "理想・探求・未来",
        "overview": "現実の少し先にある「約束の地」を見ている賢者。高い理想を掲げ、その純粋な希望の光で人々を導き、夢物語を現実の形へと変えていく存在。",
        "levels": {
            0: {
                "class_name": "Illusionist（イリュージョニスト／幻影者）",
                "mode": "NPC",
                "state": "理想ばかり高くて現実が伴わず、そのギャップから目を逸らしている状態。「いつかビッグになる」と言いながら何も行動しなかったり、今の環境への不満ばかりを口にして、妄想の世界に逃げ込んでいる。",
                "challenge": "現在地の確認：理想を持つことは素晴らしいが、今の自分がどこにいるのか（現実）を直視しない限り、旅は始まらないと気づくこと。",
                "action": "不満のリスト化：現実に対する不満を書き出す。それは裏返せば「本当はこうありたい」という理想の輪郭であると知る。",
                "next_step": "「魔法」を捨てること。寝て起きたら世界が変わっているような魔法は存在しないと認め、自分の足で歩く覚悟を決める。"
            },
            1: {
                "class_name": "Gap Walker（ギャップ・ウォーカー／理想と現実の狭間）",
                "mode": "TRIAL",
                "state": "理想に向けて動き出そうとしたが、現実の壁の厚さに打ちのめされている状態。「こんなはずじゃない」「周りのレベルが低い」と嘆き、理想を捨てるか、現実を呪うかの二択で苦しんでいる。",
                "challenge": "批判から創造へ：世界を批判しても理想には近づかないと知ること。批判するエネルギーを、「どうすれば良くなるか」を考えるエネルギーに変換する。",
                "action": "理想の細分化：遠すぎるゴールを見て絶望するのをやめ、ゴールまでの道のりに「中間地点」を置く。",
                "next_step": "「橋」をかけること。理想（向こう岸）と現実（こちら岸）は、断絶しているのではなく、これから橋をかければ繋がるのだと信じる。"
            },
            2: {
                "class_name": "Vision Designer（ビジョン・デザイナー／理想の設計者）",
                "mode": "NOVICE",
                "state": "不満を言うのをやめ、自分の内側で「最高の未来」を詳細に設計し始めたリハビリ期間。誰に否定されても揺るがない、強固な心の羅針盤（ビジョン）をセットしている。",
                "challenge": "解像度アップ：「なんとなく幸せ」ではなく、「誰と、どこで、何をして、どんな感情でいるか」まで、理想の解像度を極限まで上げる。",
                "action": "予祝（よしゅく）：理想が叶った時の感情を、今ここで先取りして味わう。未来の自分になりきって日記を書く。",
                "next_step": "理想を「計画」に落とすこと。夢物語を、「達成可能なプロジェクト」として扱い始める。"
            },
            3: {
                "class_name": "Reality Translator（リアリティ・トランスレーター／現実の翻訳家）",
                "mode": "ADEPT",
                "state": "高い理想を、今できる小さな一歩に「翻訳」して実行し始めた段階。周りの人にも分かる言葉で夢を語り、共感者や協力者を集めながら、着実に現実を変え始めている。",
                "challenge": "妥協なき調整：現実に合わせて理想を下げるのではなく、現実を理想に近づけるための工夫をすること。",
                "action": "ロールモデルの研究：自分の理想を既に体現している人を探し、その思考や行動パターンを真似る（インストールする）。",
                "next_step": "「一人ではない」と知ること。夢は一人で見るものだが、現実はみんなで創るものだと気づく。助けを求め、巻き込む。"
            },
            4: {
                "class_name": "Future Prophet（フューチャー・プロフェット／未来を描く預言者）",
                "mode": "PLAYER（覚醒）",
                "state": "掲げた理想を次々と現実化し、その生き様が人々の「希望」となっている状態。彼らが「こうなる」と語れば、それは予言のように現実化していく。夢と現実の境界線を消し去り、世界を理想の形へと書き換える力を持つ。",
                "challenge": "ビジョンの更新：叶った夢に安住せず、常にさらに高い理想、より多くの人が幸せになる未来を描き続けること。",
                "action": "希望の点火：諦めかけている人々の心に、再び夢の火を灯す。自分のビジョンを共有し、世界全体の視座を引き上げる。",
                "next_step": "ビジョンそのものになること。言葉で語る必要すらなく、ただそこにいるだけで未来を感じさせる存在になる。"
            },
            5: {
                "class_name": "The Philosopher（ザ・フィロソファー／賢者）",
                "mode": "MASTER（超越）",
                "state": "理想を語るだけでなく、その理想を現実世界に普遍的な「真理」として定着させる境地。彼らの思想や哲学は、時を超えて受け継がれ、人類が進むべき方向を示す北極星となる。",
                "challenge": "永遠の真理：時代が変わっても色褪せない、本質的な理想（愛、平和、調和など）を説くこと。",
                "action": "概念の構築：社会システムや文化の中に、理想を組み込む。彼らの思考が、次の時代の常識となる。",
                "next_step": None
            }
        }
    },
    8: {
        "name": "コマンダー（統率者）",
        "basic_traits": "繁栄・実行・受容",
        "overview": "人を動かし、大きな成果を手にするリーダー。「渡りに船」の運を持ち、自分一人で泳ぐのではなく、流れてくるチャンスや人の力に乗ることで、桁違いの成功を収める存在。",
        "levels": {
            0: {
                "class_name": "Waiter（ウェイター／待機者）",
                "mode": "NPC",
                "state": "「誰かがやってくれるだろう」と口を開けて待っているだけの状態。自分の人生なのに、不満ばかり言って自分では何も決めず、環境や他人のせいにして動かない。",
                "challenge": "依存の自覚：「待つこと」と「サボること」は違うと気づくこと。自分の意志を示さなければ、誰も船を用意してくれないことを知る。",
                "action": "意思表示：「察してほしい」をやめ、「私はこうしたい」「これが欲しい」と、自分の欲望や希望を明確に言葉にする。",
                "next_step": "「欲」を肯定すること。「大きなことを成し遂げたい」「豊かになりたい」という純粋な野心を認め、そのために自分が動く覚悟を決める。"
            },
            1: {
                "class_name": "Forceful Dictator（フォースフル・ディクテーター／力任せの独裁者）",
                "mode": "TRIAL",
                "state": "自分の思い通りに人を動かそうとして、反発を買っている状態。あるいは、流れに逆らって自力だけで泳ごうとし、無駄に体力を消耗して「なぜうまくいかないんだ」と苛立っている。",
                "challenge": "コントロールの手放し：自分の力ですべてをねじ伏せようとするのをやめること。川の流れを無理やり変えることはできないと悟る。",
                "action": "抵抗の停止：思い通りにいかない時、「やり方が間違っている」のではなく「今はそのタイミング（流れ）ではない」と判断し、一度力を抜く。",
                "next_step": "「負けるが勝ち」を知ること。自分のエゴを押し通すよりも、状況に従ったほうが結果的に大きな利益を得られると理解する。"
            },
            2: {
                "class_name": "Flow Reader（フロウ・リーダー／流れの読み手）",
                "mode": "NOVICE",
                "state": "無理に人を動かそうとするのをやめ、状況や相手の意図を静かに観察し始めたリハビリ期間。「今、どこにチャンスの丸太が流れているか」を見極める眼を養っている。",
                "challenge": "観察と待機：焦って飛び込まず、一番良い波が来るまで岸辺で待つ胆力を持つこと。",
                "action": "相談と観察：独断で決めず、信頼できる人に相談する。周りの人が何を求めているのか、環境がどこへ向かっているのかをじっと見る。",
                "next_step": "「イエス」と言う準備をすること。自分の計画と違っても、やってきた話や依頼に対して「乗ってみよう」と心を開く。"
            },
            3: {
                "class_name": "Empowermenter（エンパワーメンター／権限の委譲者）",
                "mode": "ADEPT",
                "state": "自分の手柄にせず、他者の力を信じて任せ始めた段階。「あなたにお願いしたい」と言われた役割を快く引き受けたり、逆に誰かに役割を与えたりして、組織やチームを動かし始めている。",
                "challenge": "信頼と委任：自分でやったほうが早いという思いを捨て、あえて人に任せることで、自分一人ではできない規模の成果を目指す。",
                "action": "オファーの受諾：来るもの拒まずの精神で、頼まれごとやチャンスに乗る。打算を捨て、純粋な「やってみたい」という気持ちで引き受ける。",
                "next_step": "自分が「神輿（みこし）」に乗ること。周りが自分を担ぎ上げようとする流れに、照れや謙遜を捨てて、堂々と乗っかる覚悟を決める。"
            },
            4: {
                "class_name": "King of Abundance（キング・オブ・アバンダンス／豊かさを統べる王）",
                "mode": "PLAYER（覚醒）",
                "state": "流れを読み、他者の力を借りて、共に大きな成果を掴んでいる状態。彼らが動けば、人・モノ・金がダイナミックに循環し、関わる全員が豊かになる。自ら汗をかくのではなく、適切な判断と号令で世界を動かす。",
                "challenge": "循環の拡大：得た富や権力を滞留させず、さらに大きな海へと流していくこと。",
                "action": "繁栄の決断：社会全体が豊かになるような、スケールの大きな決断を下す。リーダーとして、進むべき方向（ビジョン）を指し示す。",
                "next_step": "「私」を消して「公」になること。個人の成功ではなく、システム全体の繁栄そのものになる。"
            },
            5: {
                "class_name": "The Emperor（ジ・エンペラー／繁栄の帝王）",
                "mode": "MASTER（超越）",
                "state": "富を独占せず、雨のように世界へ循環させる境地。彼らが存在するだけで経済が潤い、多くの人々が豊かになる、絶対的な「富の循環装置」。天運さえも味方につけ、努力なしで全てが与えられる領域。",
                "challenge": "無為の統治：何もしなくても、全てがうまく回る仕組み（徳）を完成させること。",
                "action": "恩恵の分配：自らの豊かさを、見返りを求めずに世界へ還元し続ける。",
                "next_step": None
            }
        }
    },
    9: {
        "name": "マスター（達人）",
        "basic_traits": "完成・知恵・仕分",
        "overview": "全てを悟り、無駄を削ぎ落とす完成された人。どんな役でも演じられる器用さを持ちながら、物事の核心を見抜き、複雑なものをシンプルに統合して「知恵」として残す存在。",
        "levels": {
            0: {
                "class_name": "Mimic（ミミック／擬態者）",
                "mode": "NPC",
                "state": "周りに染まりすぎて本心がわからず、何者にもなれない虚無感を持っている状態。求められるままに色を変えるカメレオンのように、自分という核を持たずにただ環境に合わせている。",
                "challenge": "自己喪失の自覚：「なんでもできる」は「何もしていない」のと同じだと気づくこと。他人の人生を演じるのをやめ、自分の人生を生きる決意をする。",
                "action": "演じるのをやめる：「いい人」「できる人」という仮面を、意識的に外す時間を作る。誰の期待にも応えない、素の自分でいる時間を確保する。",
                "next_step": "「NO」と言うこと。全てを受け入れるのではなく、自分にとって不要なもの、違和感のあるものを拒絶する勇気を持つ。"
            },
            1: {
                "class_name": "Jack of all trades（ジャック・オブ・オール・トレード／器用貧乏な役者）",
                "mode": "TRIAL",
                "state": "能力はあるため何でもこなせてしまうが、どれも中途半端で「これといった武器がない」と悩んでいる状態。便利屋として使われ、心が乾いている。",
                "challenge": "広がりすぎた戦線の縮小：「できること」と「やるべきこと」は違うと知ること。八方美人的な対応が、自分のエネルギーを分散させ、本質から遠ざけていると理解する。",
                "action": "リストラ：抱えている役割、人間関係、趣味などをリストアップし、上位2割以外を切り捨てる覚悟を決める。",
                "next_step": "「捨てる」痛みを引き受けること。何かを得るためではなく、身軽になるために手放す。空白こそが、本質を呼び込むスペースになると信じる。"
            },
            2: {
                "class_name": "Essential Selector（エッセンシャル・セレクター／本質の選別者）",
                "mode": "NOVICE",
                "state": "「何でもできる自分」を封印し、本当に重要なこと以外を断り始めたリハビリ期間。ノイズを遮断し、自分にとっての「真実」だけを選び取る選球眼を磨いている。",
                "challenge": "拒絶と集中：多くの選択肢の中から、たった一つの「本物」を見極めること。量より質を徹底的に追求する。",
                "action": "シンプル化：生活、思考、言葉をシンプルにする。複雑な言い回しをやめ、核心だけを短く伝える練習をする。",
                "next_step": "「なぜ？」を突き詰めること。表面的な現象ではなく、その奥にある根本原因や心理を見抜く洞察力を持つ。"
            },
            3: {
                "class_name": "Wise Man（ワイズ・マン／知恵の体現者）",
                "mode": "ADEPT",
                "state": "選び抜いた一つの道を極め始め、その経験を普遍的な「知恵」として体系化し始めた段階。複雑な問題をシンプルに解き明かし、周囲に気づきを与える存在になっている。",
                "challenge": "統合と還元：個人的な経験を、誰もが使える知恵へと昇華させること。難解な真理を、優しい言葉で翻訳して伝える。",
                "action": "教訓の抽出：起きた出来事から「つまり、こういうことだ」という法則を見つけ出す。感情に流されず、現象の裏にある意図を読み解く。",
                "next_step": "「完成」させること。どんなに小さなことでも、始めたことを最後まできっちりとやり遂げ、美しい結末を迎える経験を積む。"
            },
            4: {
                "class_name": "Sage of Essence（セージ・オブ・エッセンス／本質を見抜く賢者）",
                "mode": "PLAYER（覚醒）",
                "state": "あらゆる役を演じ分けながらも、決して自分を見失わず、物事の核心だけを掴んでいる状態。彼らの一言は、複雑に絡まった問題を一刀両断し、人々を迷いから救う。全てを受け入れ、全てを許し、そして完成へと導く。",
                "challenge": "無執着の慈愛：全てを見通すがゆえの孤独を超え、善悪の彼岸から世界を愛すること。",
                "action": "完結と浄化：古くなったサイクルを終わらせ、執着や未練を浄化する役割を果たす。彼らがいる場所では、物事が正しい収まり方をする。",
                "next_step": "ただ「在る」こと。行動や言葉を超え、その存在の波動だけで周囲を整える領域へ。"
            },
            5: {
                "class_name": "Grand Master（グランド・マスター／大師範）",
                "mode": "MASTER（超越）",
                "state": "全てを知り尽くし、執着を手放した静寂の境地。彼らは多くを語らない。しかし、その瞳に見つめられるだけで、人は自分の嘘や偽りに気づき、本来の姿へと還っていく。魂の導師。",
                "challenge": "完全なる調和：自我を完全に消し去り、宇宙の理（ことわり）そのものとして振る舞うこと。",
                "action": "沈黙の教え：言葉を使わず、ただ生き様や佇まいで真理を伝える。その教えは、受け手の魂に直接刻まれる。",
                "next_step": None
            }
        }
    },
    10: {
        "name": "リノベーター（改革者）",
        "basic_traits": "変容・刷新・解放",
        "overview": "破壊と再生を司る革命家。過去の成功体験や古い常識に縛られることを嫌い、時代に合わなくなったシステムを容赦なく解体し、全く新しい価値観を創造する存在。",
        "levels": {
            0: {
                "class_name": "Passenger（パッセンジャー／流されるだけの乗客）",
                "mode": "NPC",
                "state": "自分の意志がなく、他人が敷いたレールの上をただ運ばれている状態。「仕方がない」「どうせ変わらない」と諦め、違和感のある環境やルールに思考停止で従っている。",
                "challenge": "停滞の自覚：このまま乗っていても、望む場所には着かないことに気づくこと。安定は「衰退」の始まりであると知る。",
                "action": "疑問を持つ：「なぜこのルールがあるの？」「私は本当にこれをしたいの？」と、当たり前だと思っていたことに「？」を投げかける。",
                "next_step": "「降りる」と決めること。誰かが運転する乗り物から降り、自分の足で地面に立つ覚悟を持つ。"
            },
            1: {
                "class_name": "Destructive Rebel（ディストラクティブ・レベル／破壊衝動の反逆者）",
                "mode": "TRIAL",
                "state": "現状への不満が爆発し、ただ闇雲に壊そうとしている状態。建設的な対案がなく、「全部気に入らない」と反発するだけで、周囲を混乱させるトラブルメーカーになっている。",
                "challenge": "破壊の目的化からの脱却：壊すことは手段であり、目的ではないと知ること。怒りのエネルギーを、創造のエネルギーに変換する必要がある。",
                "action": "未来の視覚化：「壊した後に、どうなっていたら最高か？」を考える。更地になった後の青写真を描く。",
                "next_step": "「愛ある終わり」を選択すること。憎しみで断ち切るのではなく、「役割を終えた」と感謝して幕を引く作法を学ぶ。"
            },
            2: {
                "class_name": "Reset Planner（リセット・プランナー／再生の準備者）",
                "mode": "NOVICE",
                "state": "感情的に壊すのではなく、「なぜ新しくする必要があるのか」という理屈を持ち、計画的に終わらせる準備を始めたリハビリ期間。痛みを伴う変容を受け入れ、静かにメスを入れている。",
                "challenge": "喪失の受容：何かを得るためには、何かを捨てなければならないという「等価交換」の法則を受け入れること。",
                "action": "断捨離：物理的なモノだけでなく、人間関係、習慣、プライドなど、新しい自分にふさわしくないものを徹底的に手放す。",
                "next_step": "「未練」を断ち切ること。過去の栄光や安定した立場を、自らの手で燃やし尽くす勇気を持つ。"
            },
            3: {
                "class_name": "Innovation Leader（イノベーション・リーダー／革新の旗手）",
                "mode": "ADEPT",
                "state": "古いシステムを解体し、その瓦礫の上に新しい価値を提示し始めた段階。批判を恐れず、自らが実験台となって新しい生き方を実践し、周囲に「変わること」の可能性を見せている。",
                "challenge": "創造的破壊の実践：壊すと同時に、創る。反対勢力を説得するのではなく、新しい結果を見せることで納得させる。",
                "action": "プロトタイプの提示：「これからの時代はこうなる」というモデルケースを、小さくても良いので具現化する。",
                "next_step": "変化そのものになること。自分が変わることで、世界が変わるというパラダイムシフトを体現する。"
            },
            4: {
                "class_name": "Epoch Maker（エポック・メイカー／時代を変える革命家）",
                "mode": "PLAYER（覚醒）",
                "state": "過去を捨てることで新しくなれると知り、古い常識を破壊し、全く新しい価値観やシステムを創造している状態。彼らが動けば、一つの時代が終わり、新しい時代が始まる。その過激さが、停滞した世界を強制的にアップデートさせる。",
                "challenge": "継続的な変革：自分が作った新しいシステムさえも、古くなれば壊す覚悟を持つこと。権力にあぐらをかかない。",
                "action": "意識革命：人々の心にある「恐れ」を取り除き、自由な精神へと解放する。社会のOSを書き換える。",
                "next_step": "死と再生のサイクルを超えること。終わりは始まりであり、永遠に続く螺旋の一部であると悟る。"
            },
            5: {
                "class_name": "The Phoenix（ザ・フェニックス／再生の神）",
                "mode": "MASTER（超越）",
                "state": "破壊を恐れず、何度でも灰の中から新しい世界を蘇らせる不死鳥の境地。時代の変わり目に必ず現れ、人類を次のステージへと進化させる触媒となる。彼らにとって「失うこと」は存在せず、全ては「形を変えること」に過ぎない。",
                "challenge": "永遠の新生：世界が停滞するたびに、自らを燃やして光となり、新たな命を吹き込むこと。",
                "action": "文明の更新：人類の集合意識レベルでのパラダイムシフトを起こし、歴史の転換点を作る。",
                "next_step": None
            }
        }
    },
    11: {
        "name": "ミラクルメーカー（魔法使い）",
        "basic_traits": "奇跡・直感・衝動",
        "overview": "予測不能なトリックスター。常識では考えられない行動をとるが、それが奇跡的な結果を生む。宇宙のアンテナと直結しており、天啓を地上に降ろす役割を持つ。",
        "levels": {
            0: {
                "class_name": "Breaker（ブレイカー／破壊者）",
                "mode": "NPC",
                "state": "思いつきで周囲を振り回し、積み上げたものを台無しにしてしまう状態。「なんとなく」で動いては失敗し、周囲から信用を失っている。建設的でない破壊を繰り返すトラブルメーカー。",
                "challenge": "衝動の質の識別：「ただの気まぐれ（エゴ）」と「真の直感（天啓）」は違うと気づくこと。破壊の後に創造がなければ、それはただの暴力であると知る。",
                "action": "ブレーキの確認：衝動的に動く前に、一瞬だけ立ち止まる。「これは逃げや憂さ晴らしではないか？」と自問する。",
                "next_step": "自分を「信じる」のではなく「疑う」のをやめること。自分の感覚が間違っているのではなく、使い方が荒削りなだけだと認める。"
            },
            1: {
                "class_name": "Unstable Weather（アンステーブル・ウェザー／不安定な天気予報）",
                "mode": "TRIAL",
                "state": "素晴らしい閃きがあるのに、「常識」でブレーキをかけてしまい、中途半端になっている状態。直感と理屈の間で揺れ動き、「やっぱり気のせいか」とチャンスを逃しては後悔している。",
                "challenge": "論理からの脱却：「根拠がないと動いてはいけない」という思い込みを外すこと。直感に理由は必要ないと知る。",
                "action": "小さな実験：失敗しても痛手のない範囲で、あえて「理屈に合わない方」を選んでみる実験をする。",
                "next_step": "「気のせい」を禁止用語にすること。ふと浮かんだアイデアや違和感を、否定せずにキャッチする習慣をつける。"
            },
            2: {
                "class_name": "Intuition Believer（インスピレーション・ビリーバー／直感の信者）",
                "mode": "NOVICE",
                "state": "「気のせいかな？」と打ち消していた小さな違和感や閃きを、メモに取るなどして大切に扱い始めたリハビリ期間。まだ行動には移せなくても、自分だけの感覚（アンテナ）を信じる稽古をしている。",
                "challenge": "論理の停止：頭でっかちになるのをやめ、体の感覚や心の動きに敏感になること。思考のノイズを静める。",
                "action": "直感日記：「あの時こう感じた」という直感と、その後の結果を記録する。自分の直感の的中率が高いことをデータとして認識する。",
                "next_step": "タイミングを逃さないこと。直感には賞味期限があると知る。受信したら即座に反応する準備をする。"
            },
            3: {
                "class_name": "Impulse Actor（インパルス・アクター／衝動の実行者）",
                "mode": "ADEPT",
                "state": "閃いた瞬間に、理由をつけずに行動に移し始めた段階。「根拠はないけどこっち」という選択を現実に反映させ、小さな奇跡やシンクロニシティを起こし始めている。",
                "challenge": "即断即決：思考が追いつく前に体が動く状態を作ること。0.1秒の決断を繰り返す。",
                "action": "宣言と実行：「理由はわからないけど、これが正解だと思う」と周囲に伝え、実際にやってみせる。結果で証明する。",
                "next_step": "宇宙に委ねる（サレンダー）こと。自分の力で何とかしようとするのをやめ、大きな流れの道具として動く覚悟を決める。"
            },
            4: {
                "class_name": "Miracle Trigger（ミラクル・トリガー／奇跡を起こすトリックスター）",
                "mode": "PLAYER（覚醒）",
                "state": "理屈を超えた直感を信じ抜き、不可能を可能にしている状態。彼らが動く時、偶然は必然に変わり、閉ざされていた扉が開く。常識を覆すショートカットでゴールへ到達し、周囲に魔法を見せる存在。",
                "challenge": "純粋な媒体化：エゴや欲を混ぜず、純粋な天啓だけを降ろすクリアなパイプであり続けること。",
                "action": "奇跡の連鎖：自分の直感に従うことで、周りの人々の運命も好転させる。停滞した状況を一撃で打開する「ジョーカー」として振る舞う。",
                "next_step": "現実を「書き換える」意識を持つこと。目の前の現実は確定したものではなく、意識次第で変幻自在に変わる幻影だと悟る。"
            },
            5: {
                "class_name": "The Wizard（ザ・ウィザード／大魔法使い）",
                "mode": "MASTER（超越）",
                "state": "奇跡が日常となる境地。彼らにとって「不可能」という概念は存在しない。意図するだけで現実が書き換わり、必要なものは必要なタイミングで必ず現れる、現実創造の達人。",
                "challenge": "魔法の伝承：この世界が意識でできているという真理を、人々に思い出させること。",
                "action": "世界線の移動：望むパラレルワールドへと、自分だけでなく周囲の世界ごとシフトさせる。",
                "next_step": None
            }
        }
    },
    12: {
        "name": "コンダクター（指揮者）",
        "basic_traits": "継承・結合・共感",
        "overview": "人と人、過去と未来を繋ぐマエストロ。自身の豊富な経験を惜しみなく手渡し、次世代が輝く舞台を整えることに喜びを感じる、全体の調整役であり精神的支柱。",
        "levels": {
            0: {
                "class_name": "Shadow（シャドウ／依存的な傍観者）",
                "mode": "NPC",
                "state": "自分の意見を持たず、誰かの後ろに隠れて決断を避けている状態。「誰かが決めてくれればいい」と流れに身を任せすぎ、自分の人生のハンドルを他人に握らせてしまっている。",
                "challenge": "主体性の回復：「サポート役」と「付属品」は違うと気づくこと。誰かの影として生きるのをやめる。",
                "action": "自分の意見：小さなことでも「私はこう思う」と口にする練習をする。誰かの意見に「私も同じ」と言うのを一回休む。",
                "next_step": "「私が選ぶ」と決めること。誰かの後ろから一歩前に出て、自分の足で立つ感覚を思い出す。"
            },
            1: {
                "class_name": "Nagging Director（ナギング・ディレクター／口うるさい監督）",
                "mode": "TRIAL",
                "state": "経験があるゆえに、他者のやり方が危なっかしく見えて口を出しすぎる状態。「私の時はこうだった」「あなたのためを思って」と自分の成功法則を押し付け、煙たがられている。",
                "challenge": "支配欲の手放し：「教えたい」という気持ちの裏に、「自分の正しさを認めさせたい」というエゴがないか自問すること。",
                "action": "沈黙：アドバイスしたくなった瞬間に、口チャックをする。聞かれていないことは言わない。",
                "next_step": "「失敗」を許すこと。相手が転ぶのを見守ることも、愛情の一つだと知る。自分の経験が絶対ではないと認める。"
            },
            2: {
                "class_name": "Silent Advisor（サイレント・アドバイザー／沈黙の助言者）",
                "mode": "NOVICE",
                "state": "言いたいことをぐっと飲み込み、相手が助けを求めてくるまで待つことができるようになったリハビリ期間。「待つ」ことの重要性を理解し、忍耐強く見守っている。",
                "challenge": "タイミングの見極め：相手が本当に必要とする瞬間（シェアするタイミング）が来るまで、じっくりと機会をうかがう。",
                "action": "準備と待機：いつ相談されてもいいように、自分の知識や経験を整理しておく。相手からは「あそこにいけば答えがある」と思われるような安心感のある存在でいる。",
                "next_step": "「私」を使わないこと。「私が教えた」という承認を求めず、黒子に徹する覚悟を持つ。"
            },
            3: {
                "class_name": "Link Connector（リンク・コネクター／有能な仲介者）",
                "mode": "ADEPT",
                "state": "自分の経験を直接教えるのではなく、適切な「人」や「情報」を紹介して解決を促し始めた段階。自分は表に出ず、縁の下で全体を回す「繋ぎ役」としての機能美を発揮している。",
                "challenge": "最適なマッチング：相手のニーズを正確に把握し、自分の手持ちのカード（人脈・知識）の中からベストなものを引き合わせる。",
                "action": "紹介と接続：「あの人に聞くといいよ」「この本が役立つよ」と、リソースへのアクセス権を渡す。人と人を結びつける。",
                "next_step": "全体の「調和」を見ること。個別の繋がりだけでなく、それによって全体がどう動くか、オーケストラのような全体像を意識する。"
            },
            4: {
                "class_name": "Bond Maestro（ボンド・マエストロ／絆を繋ぐマエストロ）",
                "mode": "PLAYER（覚醒）",
                "state": "経験を惜しみなく手渡し、次世代が輝く舞台を整えている状態。自分が指揮棒を振ることで、自分以外の全員が最高の音を奏でられることに無上の喜びを感じる。全体の調和を生み出す、真の指導者でありキーパーソン。",
                "challenge": "継承の完了：自分の持っている全てを、次なる時代へ完全に明け渡すこと。",
                "action": "舞台の創造：自分が主役になるのではなく、他者が主役になれる環境やシステムを構築する。思いを繋げ、共感の世界を作る。",
                "next_step": "歴史の一部になること。自分の人生を、長い時間の流れの中の「一つの結び目」として捉える。"
            },
            5: {
                "class_name": "The Weaver（ザ・ウィーバー／時を紡ぐ者）",
                "mode": "MASTER（超越）",
                "state": "過去・現在・未来を一本の糸のように紡ぎ合わせる境地。歴史の継承者であり、未来の守護者。彼らの存在を通して、古き良き知恵が新しい時代にも息づき、人類の精神的支柱として永遠に尊敬される。",
                "challenge": "永遠の羅針盤：時代が変わっても変わらない、普遍的な「道」を示すこと。",
                "action": "魂の継承：言葉を超えて、その生き様や魂の在り方そのものを、未来への遺産として残す。",
                "next_step": None
            }
        }
    }
}


def get_avatar_data(avatar_number: int) -> dict:
    """アバター番号からアバターデータを取得"""
    # 0-12の範囲に正規化（13は0として扱う）
    normalized = avatar_number % 13
    return AVATAR_RAG_DATA.get(normalized, AVATAR_RAG_DATA[0])


def get_avatar_level_data(avatar_number: int, level: int) -> dict:
    """アバター番号とレベルから詳細データを取得"""
    avatar_data = get_avatar_data(avatar_number)
    # レベルは0-5の範囲（5はMASTER）
    normalized_level = min(max(level, 0), 5)
    return avatar_data["levels"].get(normalized_level, avatar_data["levels"][0])


def get_avatar_guidance(avatar_number: int, current_level: int) -> str:
    """アバターの攻略ガイダンスを生成"""
    avatar_data = get_avatar_data(avatar_number)
    level_data = get_avatar_level_data(avatar_number, current_level)
    
    guidance = f"""
【アバター攻略情報】
■ アバター: {avatar_data['name']}
■ 基本特性: {avatar_data['basic_traits']}
■ 概要: {avatar_data['overview']}

【現在のクラス】
■ クラス名: {level_data['class_name']}
■ モード: {level_data['mode']}
■ 現在の状態: {level_data['state']}

【攻略のヒント】
■ 課題: {level_data['challenge']}
■ 推奨行動: {level_data['action']}
"""
    
    if level_data['next_step']:
        guidance += f"■ 次へ進むための方法: {level_data['next_step']}\n"
    else:
        guidance += "■ 次のステージ: この境地を超えたさらなる高みへ...\n"
    
    return guidance


def get_next_level_preview(avatar_number: int, current_level: int) -> str:
    """次のレベルのプレビューを取得"""
    if current_level >= 5:
        return "あなたは既にMASTERの境地に達しています。"
    
    next_level_data = get_avatar_level_data(avatar_number, current_level + 1)
    
    return f"""
【次のレベルへの道】
■ 目指すクラス: {next_level_data['class_name']}
■ モード: {next_level_data['mode']}
■ 到達時の状態: {next_level_data['state']}
"""


def search_avatar_by_keyword(keyword: str) -> list:
    """キーワードでアバターを検索"""
    results = []
    keyword_lower = keyword.lower()
    
    for avatar_num, avatar_data in AVATAR_RAG_DATA.items():
        # アバター名や特性で検索
        if (keyword_lower in avatar_data['name'].lower() or 
            keyword_lower in avatar_data['basic_traits'].lower() or
            keyword_lower in avatar_data['overview'].lower()):
            results.append({
                'number': avatar_num,
                'name': avatar_data['name'],
                'traits': avatar_data['basic_traits']
            })
    
    return results
